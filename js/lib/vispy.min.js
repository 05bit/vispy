!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).vispy=e()}}(function(){return function o(l,a,s){function u(t,e){if(!a[t]){if(!l[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(f)return f(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=a[t]={exports:{}};l[t][0].call(i.exports,function(e){return u(l[t][1][e]||e)},i,i.exports,o,l,a,s)}return a[t].exports}for(var f="function"==typeof require&&require,e=0;e<s.length;e++)u(s[e]);return u}({1:[function(e,t,n){var i={float32:Float32Array,int8:Int8Array,int16:Int16Array,int32:Int32Array,uint8:Uint8Array,uint16:Uint16Array,uint32:Uint32Array};t.exports={to_array_buffer:function(e){var t=e.storage_type;if(null==t)return e;var n=e.data_type,r=e.buffer;return"javascript_array"==t?i[n](r):"javascript_typed_array"==t||"array_buffer"==t?r:"binary"==t?r.buffer:"base64"==t?function(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(n),i=0;i<n;i++){var o=t.charCodeAt(i);r[i]=o}return r.buffer}(r):void 0}}},{}],2:[function(e,t,n){var r=e("./vispycanvas.js"),i=e("./lib/screenfull.min.js");function f(e){var t=[];return e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),e.shiftKey&&t.push("shift"),t}e("./lib/jquery.mousewheel.min.js")($);var o={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CONTROL",18:"ALT",27:"ESCAPE",32:"SPACE",33:"PAGEUP",34:"PAGEDOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",45:"INSERT",46:"DELETE",91:"META",92:"META",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"};function l(e){var t,n,r=(t=e,window.event?t.keyCode:t.which?t.which:void 0),i=o[r];return null==i&&(n=r,i=String.fromCharCode(n).toUpperCase().trim()),i}var g={0:1,2:2,1:3};function a(e,t,n){var r;r=e._eventinfo.is_button_pressed?g[t.button]:null;var i,o,l,a=(i=e.$el.get(0),o=t,l=i.getBoundingClientRect(),[o.clientX-l.left,o.clientY-l.top]),s=f(t),u=e._eventinfo.press_event;e._eventinfo.last_event;return{type:n,pos:a,button:r,is_dragging:null!=u,modifiers:s,delta:null,press_event:u,last_event:null}}function s(e,t,n){var r=f(t);e._eventinfo.last_event;return{type:n,modifiers:r,key_code:l(t),last_event:null}}function u(e){null==e&&(e=100),this._queue=[],this.maxlen=e}r.prototype._mouse_press=function(e){},r.prototype._mouse_release=function(e){},r.prototype._mouse_move=function(e){},r.prototype._mouse_wheel=function(e){},r.prototype._mouse_click=function(e){},r.prototype._mouse_dblclick=function(e){},r.prototype._key_press=function(e){},r.prototype._key_release=function(e){},r.prototype._initialize=function(e){},r.prototype._resize=function(e){},r.prototype._paint=function(e){},r.prototype._event_tick=function(e){},r.prototype.on_mouse_press=function(e){this._mouse_press=e},r.prototype.on_mouse_release=function(e){this._mouse_release=e},r.prototype.on_mouse_move=function(e){this._mouse_move=e},r.prototype.on_mouse_wheel=function(e){this._mouse_wheel=e},r.prototype.on_mouse_dblclick=function(e){this._mouse_dblclick=e},r.prototype.on_key_press=function(e){this._key_press=e},r.prototype.on_key_release=function(e){this._key_release=e},r.prototype.on_initialize=function(e){this._initialize=e},r.prototype.on_resize=function(e){this._resize=e},r.prototype.on_paint=function(e){this._paint=e},r.prototype.on_event_tick=function(e){this._event_tick=e},r.prototype.initialize=function(){var e={type:"initialize"};this._set_size(),this._initialize(e)},r.prototype._set_size=function(e){return null==e&&(e=[this.$el.width(),this.$el.height()]),this.size=e,this.width=e[0],this.height=e[1],e},r.prototype.paint=function(){var e={type:"paint"};this.event_queue.append(e)},r.prototype.update=r.prototype.paint,r.prototype.resize=function(e){e=this._set_size(e);var t={type:"resize",size:e};this.gl.canvas.width=e[0],this.gl.canvas.height=e[1],this.event_queue.append(t),this._resize(t)},r.prototype.event_tick=function(){if(this._event_tick(),0<this.execute_pending_commands()){var e={type:"paint"};this._paint(e)}},r.prototype.is_fullscreen=function(){return i.enabled&i.isFullscreen},r.prototype.toggle_fullscreen=function(){i.enabled&&(i.isFullscreen?(i.exit(),this.resize(this._size)):(this.$el.width("100%").height("100%"),this._size=[this.$el.width(),this.$el.height()],i.request(this.$el[0]),this.resize([screen.width,screen.height])))},r.prototype.deactivate_context_menu=function(){document.oncontextmenu=function(){return!1}},r.prototype.resizable=function(){var n=this;this.$el.resizable({resize:function(e,t){n.resize([t.size.width,t.size.height])}})},u.prototype.clear=function(){this._queue=[]},u.prototype.append=function(e,t){var n,r,i,o=!0;if(null==t&&(t=!0),t){var l=this._queue[this._queue.length-1];if(null!=l){var a=(r=l,(i=(n=e).type)==r.type&&"mouse_move"==i&&n.button==r.button&n.is_dragging==r.is_dragging&n.modifiers.equals(r.modifiers)?["pos"]:[]);if(0<a.length){for(var s=0;s<a.length;s++){var u=a[s];this._queue[this._queue.length-1][u]=e[u]}o=!1}}}o&&this._queue.push(e),this._queue.length>this.maxlen&&(this._queue.shift(),this._queue[0].last_event=null)},u.prototype.get=function(){return this._queue},Object.defineProperty(u.prototype,"length",{get:function(){return this._queue.length}});var c=function(){};c.prototype.init=function(e){var n;(n=e).$el.resize(function(e){n.resize([e.width(),e.height()])}),n.event_queue=new u,n._eventinfo={type:null,pos:null,button:null,is_dragging:null,key:null,modifiers:[],press_event:null,last_event:null,delta:null},n._eventinfo.is_button_pressed=0,n.$el.mousemove(function(e){var t=a(n,e,"mouse_move");n._mouse_move(t),n.event_queue.append(t)}),n.$el.mousedown(function(e){++n._eventinfo.is_button_pressed;var t=a(n,e,"mouse_press");n._mouse_press(t),n._eventinfo.press_event=t,n.event_queue.append(t)}),n.$el.mouseup(function(e){--n._eventinfo.is_button_pressed;var t=a(n,e,"mouse_release");n._mouse_release(t),n._eventinfo.press_event=null,n.event_queue.append(t)}),n.$el.click(function(e){n._eventinfo.press_event=null}),n.$el.dblclick(function(e){n._eventinfo.press_event=null}),null!=n.$el.mousewheel&&n.$el.mousewheel(function(e){var t=a(n,e,"mouse_wheel");t.delta=[e.deltaX*e.deltaFactor*.01,e.deltaY*e.deltaFactor*.01],n._mouse_wheel(t),n.event_queue.append(t),e.preventDefault(),e.stopPropagation()}),n.$el.keydown(function(e){var t=s(n,e,"key_press");n._key_press(t),n.event_queue.append(t)}),n.$el.keyup(function(e){var t=s(n,e,"key_release");n._key_release(t),n.event_queue.append(t)}),n.$el.mouseout(function(e){})},t.exports=new c},{"./lib/jquery.mousewheel.min.js":5,"./lib/screenfull.min.js":6,"./vispycanvas.js":9}],3:[function(e,t,n){var r=e("./vispycanvas.js"),i=e("./util.js"),o=e("./data.js"),R=i.debug,E=o.to_array_buffer,A="JUST_DELETED";function S(e,t,n,r,i,o){var l=f[r],a=l[0],s=l[1];_vbo_info=e._ns[n];var u=_vbo_info.handle;e.gl.enableVertexAttribArray(t),e.gl.bindBuffer(e.gl.ARRAY_BUFFER,u),e.gl.vertexAttribPointer(t,s,e.gl[a],!1,i,o)}function y(e,t,n,r,i,o,l,a,s,u){if(e.gl.bindTexture(n,t),e.gl.pixelStorei(e.gl.UNPACK_ALIGNMENT,1),null===l)e.gl.texImage2D(n,0,r,i,o,0,r,e.gl.UNSIGNED_BYTE,l);else if(l.getContext)e.gl.texImage2D(n,0,e.gl.RGBA,e.gl.RGBA,e.gl.UNSIGNED_BYTE,l);else if(l.canvas)e.gl.texImage2D(n,0,e.gl.RGBA,e.gl.RGBA,e.gl.UNSIGNED_BYTE,l.canvas);else{var f;if(f=u==e.gl.FLOAT?new Float32Array(l):new Uint8Array(l),a&&s&&(s[0]!==o||s[1]!==i)){var g=function(e){for(var t=[8,4,2,1],n=0;n<t.length;n++)if(e%t[n]==0)return t[n]}(s[s.length-2]*s[s.length-1]);e.gl.pixelStorei(e.gl.UNPACK_ALIGNMENT,g),e.gl.texSubImage2D(n,0,a[1],a[0],s[1],s[0],r,u,f)}else e.gl.pixelStorei(e.gl.UNPACK_ALIGNMENT,1),e.gl.texImage2D(n,0,r,i,o,0,r,u,f)}}function b(e,t,n,r,i,o){e.gl.bindBuffer(n,t),o?e.gl.bufferSubData(n,r,i):e.gl.bufferData(n,i,e.gl.STATIC_DRAW)}var x={float32:"FLOAT",uint8:"UNSIGNED_BYTE"};var f={float:["FLOAT",1],vec2:["FLOAT",2],vec3:["FLOAT",3],vec4:["FLOAT",4],int:["INT",1],ivec2:["INT",2],ivec3:["INT",3],ivec4:["INT",4]};var p={float:"uniform1fv",vec2:"uniform2fv",vec3:"uniform3fv",vec4:"uniform4fv",int:"uniform1iv",ivec2:"uniform2iv",ivec3:"uniform3iv",ivec4:"uniform4iv",mat2:"uniformMatrix2fv",mat3:"uniformMatrix3fv",mat4:"uniformMatrix4fv"};var l={VertexBuffer:"ARRAY_BUFFER",IndexBuffer:"ELEMENT_ARRAY_BUFFER",Texture2D:"TEXTURE_2D"};function w(e){return l[e]}var c={color:["COLOR_ATTACHMENT0","RGBA4"],depth:["DEPTH_ATTACHMENT","DEPTH_COMPONENT16"],stencil:["STENCIL_ATTACHMENT","STENCIL_INDEX8"]};function a(e,t){for(var n=t.split("|"),r=0,i=0;i<n.length;i++){var o=n[i].toUpperCase().trim();r|=e.gl[o]}return r}function _(e,t){var n=e._ns[t],r=e.env.fb_stack;0==r.length&&r.push(null),r[r.length-1]!==n.handle?(R("Binding frame buffer {0}.".format(t)),e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,n.handle),r.push(n.handle)):R("Frame buffer already active {0}".format(t))}function d(e,t){var n=e._ns[t],r=e.env.fb_stack;for(0==r.length&&r.push(null);r[r.length-1]===n.handle;)r.pop();R("Binding previous frame buffer"),e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,r[r.length-1])}function s(e){e.env={fb_stack:[]}}function u(){this._queue=[]}u.prototype.clear=function(){this._queue=[]},u.prototype.append=function(e){this._queue.push(e)},u.prototype.append_multi=function(e){for(var t=0;t<e.length;t++)this._queue.push(e[t])},u.prototype.get=function(){return this._queue},Object.defineProperty(u.prototype,"length",{get:function(){return this._queue.length}}),r.prototype.set_deferred=function(e){this._deferred=e},r.prototype.execute_pending_commands=function(){var e=this.glir_queue.get(),t=-1;if(0==e.length)return 0;for(var n=0;n<e.length;n++)if("SWAP"===e[n][0]){t=n;break}for(n=0;n<=t;n++)this.command(e[n],!1);return 0<=t&&(R("Processed {0} events.".format(t+1)),this.glir_queue._queue=this.glir_queue._queue.slice(t+1)),t+1},r.prototype.command=function(e,t){void 0===t&&(t=this._deferred);var n=e[0].toLowerCase();t?this.glir_queue.append(e):this.glir[n](this,e.slice(1))};var g=function(){};g.prototype.init=function(e){e._ns={},e._deferred=!0,s(e),e.glir_queue=new u,e.glir=this},g.prototype.current=function(e,t){s(e),e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,null)},g.prototype.swap=function(e,t){},g.prototype.create=function(e,t){var n=t[0],r=t[1];"VertexBuffer"==r?(R("Creating vertex buffer '{0}'.".format(n)),e._ns[n]={object_type:r,handle:e.gl.createBuffer(),size:0}):"IndexBuffer"==r?(R("Creating index buffer '{0}'.".format(n)),e._ns[n]={object_type:r,handle:e.gl.createBuffer(),size:0}):"FrameBuffer"==r?(R("Creating frame buffer '{0}'.".format(n)),e._ns[n]={object_type:r,handle:e.gl.createFramebuffer(),size:0,validated:!1}):"RenderBuffer"==r?(R("Creating render buffer '{0}'.".format(n)),e._ns[n]={object_type:r,handle:e.gl.createRenderbuffer(),size:0}):"Texture2D"==r?(R("Creating texture '{0}'.".format(n)),e._ns[n]={object_type:r,handle:e.gl.createTexture(),size:0,shape:[]}):"Program"==r?(R("Creating program '{0}'.".format(n)),e._ns[n]={object_type:r,handle:e.gl.createProgram(),attributes:{},uniforms:{},textures:{},texture_uniforms:{}}):"VertexShader"==r?(R("Creating VertexShader '{0}'.".format(n)),e._ns[n]={object_type:r,handle:e.gl.createShader(e.gl.VERTEX_SHADER)}):"FragmentShader"==r&&(R("Creating FragmentShader '{0}'.".format(n)),e._ns[n]={object_type:r,handle:e.gl.createShader(e.gl.FRAGMENT_SHADER)})},g.prototype.delete=function(e,t){var n=t[0],r=e._ns[n].object_type,i=e._ns[n].handle;e._ns[n].handle=A,"VertexBuffer"==r?(R("Deleting vertex buffer '{0}'.".format(n)),e.gl.deleteBuffer(i)):"IndexBuffer"==r?(R("Deleting index buffer '{0}'.".format(n)),e.gl.deleteBuffer(i)):"FrameBuffer"==r?(R("Deleting frame buffer '{0}'.".format(n)),e.gl.deleteFramebuffer(i)):"RenderBuffer"==r?(R("Deleting render buffer '{0}'.".format(n)),e.gl.deleteRenderbuffer(i)):"Texture2D"==r?(R("Deleting texture '{0}'.".format(n)),e.gl.deleteTexture(i)):"Program"==r?(R("Deleting program '{0}'.".format(n)),e.gl.deleteProgram(i)):0<=r.indexOf("Shader")&&(R("Deleting shader '{0}'.".format(n)),e.gl.deleteShader(i))},g.prototype.size=function(e,t){var n,r=t[0],i=t[1],o=t[2],l=e._ns[r],a=l.handle,s=l.object_type,u=e.gl[w(s)];0<=s.indexOf("Texture")?(l.format=o.toUpperCase(),R("Setting texture size to {1} for '{0}'.".format(r,i))):"RenderBuffer"==s?(e.gl.bindRenderbuffer(e.gl.RENDERBUFFER,a),l.format=e.gl[(n=o,c[n][1])],e.gl.renderbufferStorage(e.gl.RENDERBUFFER,l.format,i[1],i[0]),e.gl.bindRenderbuffer(e.gl.RENDERBUFFER,null)):(R("Setting buffer size to {1} for '{0}'.".format(r,i)),b(e,a,u,0,i,!1)),l.size=i},g.prototype.data=function(e,t){var n,r,i,o,l=t[0],a=t[1],s=t[2],u=e._ns[l],f=u.object_type,g=u.handle,c=e.gl[w(f)],p=E(s);if(0<=f.indexOf("Shader"))r=e,i=g,o=p,console.log(typeof o),"string"!=typeof o&&(o=String.fromCharCode.apply(null,new Uint8Array(o))),o=o.replace(/\\n/g,"\n"),r.gl.shaderSource(i,o),r.gl.compileShader(i),r.gl.getShaderParameter(i,r.gl.COMPILE_STATUS)||console.error(r.gl.getShaderInfoLog(i));else if(0<=f.indexOf("Texture")){var _=u.size,d=_[0],h=_[1],m=e.gl[u.format];R("Setting texture data for '{0}'.".format(l));var v=e.gl[(n=s.dtype,x[n])];y(e,g,c,m,h,d,p,a,s.shape,v),u.shape=_}else R("Setting buffer data for '{0}'.".format(l)),b(e,g,c,a,p,0<u.size),u.size=p.byteLength},g.prototype.attribute=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3][0],l=t[3][1],a=t[3][2],s=e._ns[n].handle;R("Creating attribute '{0}' for program '{1}'.".format(r,n));var u,f,g=(u=s,f=r,e.gl.getAttribLocation(u,f));e._ns[n].attributes[r]={handle:g,type:i,vbo_id:o,stride:l,offset:a}},g.prototype.uniform=function(e,t){var n,r,i,o,l,a,s=t[0],u=t[1],f=t[2],g=t[3],c=e._ns[s].handle;e.gl.useProgram(c),null==e._ns[s].uniforms[u]&&(R("Creating uniform '{0}' for program '{1}'.".format(u,s)),n=e.gl.getUniformLocation(c,u),r=p[f],e._ns[s].uniforms[u]=[n,r]),R("Setting uniform '{0}' to '{1}' with {2} elements.".format(u,g,g.length)),n=(i=e._ns[s].uniforms[u])[0],r=i[1],o=e,l=n,a=r,array=E(g),0<a.indexOf("Matrix")?o.gl[a](l,!1,array):o.gl[a](l,array)},g.prototype.texture=function(e,t){var n=t[0],r=t[1],i=t[2],o=e._ns[n],l=o.handle,a=e._ns[i].handle;if(a===A)return R("Removing texture '{0}' from program '{1}'".format(i,n)),void delete o.textures[i];R("Initializing texture '{0}' for program '{1}'.".format(i,n)),o.texture_uniforms.hasOwnProperty(r)&&(R("Removing previously assigned texture for '{0}'".format(r)),delete o.textures[o.texture_uniforms[r]]);var s=e.gl.getUniformLocation(l,r);o.texture_uniforms[r]=i,e._ns[n].textures[i]={sampler_name:r,sampler_handle:s,number:-1,handle:a}},g.prototype.interpolation=function(e,t){var n=t[0],r=t[1].toUpperCase(),i=t[2].toUpperCase(),o=e._ns[n].handle,l=e.gl.TEXTURE_2D;e.gl.bindTexture(l,o),e.gl.texParameteri(l,e.gl.TEXTURE_MIN_FILTER,e.gl[r]),e.gl.texParameteri(l,e.gl.TEXTURE_MAG_FILTER,e.gl[i]),e.gl.bindTexture(l,null)},g.prototype.wrapping=function(e,t){var n=t[0],r=t[1],i=e._ns[n].handle,o=e.gl.TEXTURE_2D;e.gl.bindTexture(o,i),e.gl.texParameteri(o,e.gl.TEXTURE_WRAP_S,e.gl[r[0].toUpperCase()]),e.gl.texParameteri(o,e.gl.TEXTURE_WRAP_T,e.gl[r[1].toUpperCase()]),e.gl.bindTexture(o,null)},g.prototype.draw=function(e,t){var n,r,i,o,l,a,s,u,f,g=t[0],c=t[1].toUpperCase(),p=t[2],_=e._ns[g].handle,d=e._ns[g].attributes,h=e._ns[g].textures,m=0;for(r in e.gl.useProgram(_),d){var v=d[r];R("Activating attribute '{0}' for program '{1}'.".format(r,g)),S(e,v.handle,v.vbo_id,v.type,v.stride,v.offset)}for(i in h)n=h[i],e._ns[i].handle!==A?(n.number=m,m+=1,R("Activating texture '{0}' for program '{1}' as number '{2}'.".format(i,g,n.number)),o=e,l=n.handle,n.sampler_handle,a=n.number,l!==A&&(o.gl.activeTexture(o.gl.TEXTURE0+a),o.gl.bindTexture(o.gl.TEXTURE_2D,l)),e.gl.uniform1i(n.sampler_handle,n.number)):(R("Ignoring texture '{0}' from program '{1}'".format(i,g)),n.handle=A);if(2==p.length){var E=p[0];s=p[1],R("Rendering program '{0}' with {1}.".format(g,c)),e.gl.drawArrays(e.gl[c],E,s)}else if(3==p.length){var y=p[0],b=p[1];s=p[2];var x=e._ns[y].handle;R("Rendering program '{0}' with {1} and index buffer '{2}' of type '{3}'.".format(g,c,y,b)),e.gl.bindBuffer(e.gl.ELEMENT_ARRAY_BUFFER,x),e.gl.drawElements(e.gl[c],s,e.gl[b],0)}for(r in d)R("Deactivating attribute '{0}' for program '{1}'.".format(r,g)),u=e,f=d[r].handle,u.gl.disableVertexAttribArray(f);var w,F,T={};for(i in h)n=h[i],R("Deactivating texture '{0}' for program '{1}'.".format(i,g)),w=e,n.handle,n.sampler_handle,F=n.number,w.gl.activeTexture(w.gl.TEXTURE0+F),w.gl.bindTexture(w.gl.TEXTURE_2D,null),e._ns[i].handle!=A&&(T[i]=n);e._ns[g].textures=T},g.prototype.attach=function(e,t){var n=t[0],r=e._ns[n],i=r.object_type,o=r.handle;if("Program"!=i){var l,a,s=t[2],u=e.gl[(l=t[1],c[l][0])];_(e,n),0==s?(R("Attaching RenderBuffer object {0} to framebuffer {1}".format(s,n)),e.gl.framebufferRenderbuffer(e.gl.FRAMEBUFFER,u,e.gl.RENDERBUFFER,null)):(a=e._ns[s],R("Attaching {0} object {1} to framebuffer {2} for {3}".format(a.object_type,s,n,t[1])),"RenderBuffer"==a.object_type?(e.gl.bindRenderbuffer(e.gl.RENDERBUFFER,a.handle),e.gl.framebufferRenderbuffer(e.gl.FRAMEBUFFER,u,e.gl.RENDERBUFFER,a.handle),e.gl.bindRenderbuffer(e.gl.RENDERBUFFER,null)):"Texture2D"==a.object_type&&(0==a.shape.length&&(R("Setting empty texture data to unset texture before attaching to framebuffer"),y(e,a.handle,e.gl.TEXTURE_2D,e.gl[a.format],a.size[1],a.size[0],null)),e.gl.bindTexture(e.gl.TEXTURE_2D,a.handle),e.gl.framebufferTexture2D(e.gl.FRAMEBUFFER,u,e.gl.TEXTURE_2D,a.handle,0),e.gl.bindTexture(e.gl.TEXTURE_2D,null))),e._ns[n].validated=!1,d(e,n)}else{var f=t[1],g=e._ns[f].handle;e.gl.attachShader(o,g)}},g.prototype.link=function(e,t){var n=e._ns[t[0]].handle;e.gl.linkProgram(n),e.gl.getProgramParameter(n,e.gl.LINK_STATUS)||console.warn("Could not initialise shaders on program '{0}'.".format(n))},g.prototype.framebuffer=function(e,t){var n=t[0],r=t[1],i=e._ns[n];r?(R("Binding framebuffer {0}".format(n)),_(e,n),i.validated||(i.validated=!0,function(e){var t=e.gl.checkFramebufferStatus(e.gl.FRAMEBUFFER);if(t!=e.gl.FRAMEBUFFER_COMPLETE)throw t==e.gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT?"FrameBuffer attachments are incomplete.":t==e.gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT?"No valid attachments in the FrameBuffer.":t==e.gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS?"attachments do not have the same width and height.":t==e.gl.FRAMEBUFFER_UNSUPPORTED?"Combination of internal formats used by attachments is not supported.":"Unknown framebuffer error"+t}(e))):(R("Unbinding framebuffer {0}".format(n)),d(e,n))},g.prototype.func=function(e,t){var n=t[0];R("Calling {0}({1}).".format(n,t.slice(1)));for(var r=1;r<t.length;r++)"string"==typeof t[r]&&(t[r]=a(e,t[r]));var i=e.gl[n],o=t.slice(1);i.apply(e.gl,o)},t.exports=new g},{"./data.js":1,"./util.js":7,"./vispycanvas.js":9}],4:[function(e,t,n){var r=e("./gloo.glir.js");var i=function(){this.glir=r};i.prototype.init=function(e){!function(e){var t=e.$el.get(0);e.gl=t.getContext("webgl")||t.getContext("experimental-webgl");var n=e.gl.getExtension("OES_standard_derivatives")||e.gl.getExtension("MOZ_OES_standard_derivatives")||e.gl.getExtension("WEBKIT_OES_standard_derivatives");null===n&&console.warn("Extension 'OES_standard_derivatives' is not supported in this browser. Some features may not work as expected"),null===(n=e.gl.getExtension("OES_element_index_uint")||e.gl.getExtension("MOZ_OES_element_index_uint")||e.gl.getExtension("WEBKIT_OES_element_index_uint"))&&console.warn("Extension 'OES_element_index_uint' is not supported in this browser. Some features may not work as expected"),null===(n=e.gl.getExtension("OES_texture_float"))&&console.warn("Extension 'OES_texture_float' is not supported in this browser. Some features may not work as expected"),null===(n=e.gl.getExtension("OES_texture_float_linear"))&&console.warn("Extension 'OES_texture_float_linear' is not supported in this browser. Some features may not work as expected")}(e),this.glir.init(e)},t.exports=new i},{"./gloo.glir.js":3}],5:[function(e,t,n){var r;r=function(c){function t(e){var t=e||window.event,n=m.call(arguments,1),r=0,i=0,o=0,l=0,a=0,s=0;if((e=c.event.fix(t)).type="mousewheel","detail"in t&&(o=-1*t.detail),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(i=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(i=-1*o,o=0),r=0===o?i:o,"deltaY"in t&&(r=o=-1*t.deltaY),"deltaX"in t&&(i=t.deltaX,0===o&&(r=-1*i)),0!==o||0!==i){if(1===t.deltaMode){var u=c.data(this,"mousewheel-line-height");r*=u,o*=u,i*=u}else if(2===t.deltaMode){var f=c.data(this,"mousewheel-page-height");r*=f,o*=f,i*=f}if(l=Math.max(Math.abs(o),Math.abs(i)),(!h||l<h)&&(_(t,h=l)&&(h/=40)),_(t,l)&&(r/=40,i/=40,o/=40),r=Math[1<=r?"floor":"ceil"](r/h),i=Math[1<=i?"floor":"ceil"](i/h),o=Math[1<=o?"floor":"ceil"](o/h),v.settings.normalizeOffset&&this.getBoundingClientRect){var g=this.getBoundingClientRect();a=e.clientX-g.left,s=e.clientY-g.top}return e.deltaX=i,e.deltaY=o,e.deltaFactor=h,e.offsetX=a,e.offsetY=s,e.deltaMode=0,n.unshift(e,r,i,o),d&&clearTimeout(d),d=setTimeout(p,200),(c.event.dispatch||c.event.handle).apply(this,n)}}function p(){h=null}function _(e,t){return v.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var d,h,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],m=Array.prototype.slice;if(c.event.fixHooks)for(var r=e.length;r;)c.event.fixHooks[e[--r]]=c.event.mouseHooks;var v=c.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t;c.data(this,"mousewheel-line-height",v.getLineHeight(this)),c.data(this,"mousewheel-page-height",v.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null;c.removeData(this,"mousewheel-line-height"),c.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=c(e),n=t["offsetParent"in c.fn?"offsetParent":"parent"]();return n.length||(n=c("body")),parseInt(n.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return c(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};c.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},"object"==typeof n?t.exports=r:r(jQuery)},{}],6:[function(e,i,t){!function(){"use strict";var e=void 0!==i&&i.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if((e=n[r])&&e[1]in document){for(r=0,t=e.length;r<t;r++)o[n[0][r]]=e[r];return o}return!1}(),t={request:function(e){var t=r.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[t]():e[t](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[r.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(){},onerror:function(){},raw:r};r?(Object.defineProperties(t,{isFullscreen:{get:function(){return!!document[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[r.fullscreenEnabled]}}}),document.addEventListener(r.fullscreenchange,function(e){t.onchange.call(t,e)}),document.addEventListener(r.fullscreenerror,function(e){t.onerror.call(t,e)}),e?i.exports=t:window.screenfull=t):e?i.exports=!1:window.screenfull=!1}()},{}],7:[function(e,t,n){String.prototype.format||(String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(e,t){return void 0!==n[t]?n[t]:e})}),void 0===String.prototype.trim&&(String.prototype.trim=function(){return String(this).replace(/^\s+|\s+$/g,"")}),Array.prototype.equals=function(e){if(!e)return!1;if(this.length!=e.length)return!1;for(var t=0,n=this.length;t<n;t++)if(this[t]instanceof Array&&e[t]instanceof Array){if(!this[t].equals(e[t]))return!1}else if(this[t]!=e[t])return!1;return!0},"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return this.slice(0,e.length)==e}),window.VISPY_DEBUG=!1,t.exports={debug:function(e){window.VISPY_DEBUG&&console.debug(e)}}},{}],8:[function(e,t,n){var r=e("./vispycanvas.js"),i=e("./gloo.js"),o=e("./events.js"),l=function(){this.events=o,this.gloo=i,this._is_loop_running=!1,this._canvases=[]};l.prototype.init=function(e){var t;t=$(e);var n=new r(t);return n.deactivate_context_menu(),this.events.init(n),this.gloo.init(n),this.register(n),n},l.prototype.register=function(e){this._canvases.push(e)},l.prototype.unregister=function(e){var t=this._canvases.indexOf(e);-1<t&&this._canvases.splice(t,1)},l.prototype.start_event_loop=function(){if(!this._is_loop_running){window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};var n=this;!function e(){n._request_id=requestAnimFrame(e);try{for(var t=0;t<n._canvases.length;t++)n._canvases[t].event_tick()}catch(e){throw n.stop_event_loop(),e}}(),this._is_loop_running=!0,console.debug("Event loop started.")}},l.prototype.stop_event_loop=function(){window.cancelAnimationFrame(this._request_id),this._is_loop_running=!1,console.debug("Event loop stopped.")},t.exports=new l},{"./events.js":2,"./gloo.js":4,"./vispycanvas.js":9}],9:[function(e,t,n){t.exports=function(e){this.$el=e}},{}]},{},[8])(8)});
//# sourceMappingURL=vispy.min.js.map
